{"uid":"f9830e66780ffe3c","name":"test_one_to_one_message_with_packet_loss","fullName":"tests.test_one_to_one_messages.TestOneToOneMessages#test_one_to_one_message_with_packet_loss","historyId":"22d1a39a944dd4548af8d97b967ee222","time":{"start":1734137343724,"stop":1734137377082,"duration":33358},"status":"broken","statusMessage":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=45761): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fe69d4a6e40>: Failed to establish a new connection: [Errno 111] Connection refused'))","statusTrace":"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connection.py:203: in _new_conn\n    sock = connection.create_connection(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/util/connection.py:85: in create_connection\n    raise err\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/util/connection.py:73: in create_connection\n    sock.connect(sa)\nE   ConnectionRefusedError: [Errno 111] Connection refused\n\nThe above exception was the direct cause of the following exception:\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:790: in urlopen\n    response = self._make_request(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:496: in _make_request\n    conn.request(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connection.py:395: in request\n    self.endheaders()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/http/client.py:1331: in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/http/client.py:1091: in _send_output\n    self.send(msg)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/http/client.py:1035: in send\n    self.connect()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connection.py:243: in connect\n    self.sock = self._new_conn()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connection.py:218: in _new_conn\n    raise NewConnectionError(\nE   urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fe69d4a6e40>: Failed to establish a new connection: [Errno 111] Connection refused\n\nThe above exception was the direct cause of the following exception:\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/adapters.py:486: in send\n    resp = conn.urlopen(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:844: in urlopen\n    retries = retries.increment(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/util/retry.py:515: in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\nE   urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='127.0.0.1', port=45761): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fe69d4a6e40>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\nDuring handling of the above exception, another exception occurred:\ntests/test_one_to_one_messages.py:79: in test_one_to_one_message_with_packet_loss\n    await self.test_one_to_one_message_baseline(recover_network_fn)\ntests/test_one_to_one_messages.py:31: in test_one_to_one_message_baseline\n    timestamp, message_id = self.send_with_timestamp(sending_node.send_message, receiving_node_pubkey, message)\nsrc/steps/common.py:79: in send_with_timestamp\n    response = send_method(id, message)\nsrc/node/status_node.py:167: in send_message\n    return self.api.send_rpc_request(\"wakuext_sendOneToOneMessage\", params)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:325: in iter\n    raise retry_exc.reraise()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:158: in reraise\n    raise self.last_attempt.result()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/node/rpc_client.py:24: in send_rpc_request\n    response = requests.post(self.base_url, headers={\"Content-Type\": \"application/json\"}, data=json.dumps(payload), timeout=timeout)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/api.py:115: in post\n    return request(\"post\", url, data=data, json=json, **kwargs)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/api.py:59: in request\n    return session.request(method=method, url=url, **kwargs)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/adapters.py:519: in send\n    raise ConnectionError(e, request=request)\nE   requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=45761): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fe69d4a6e40>: Failed to establish a new connection: [Errno 111] Connection refused'))","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1734135408091,"stop":1734135408091,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1734137333814,"stop":1734137333814,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_open_nodes","time":{"start":1734137333814,"stop":1734137333814,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"start_2_nodes","time":{"start":1734137333814,"stop":1734137343724,"duration":9910},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_node_logs_on_fail","time":{"start":1734137333814,"stop":1734137333814,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=45761): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fe69d4a6e40>: Failed to establish a new connection: [Errno 111] Connection refused'))","statusTrace":"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connection.py:203: in _new_conn\n    sock = connection.create_connection(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/util/connection.py:85: in create_connection\n    raise err\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/util/connection.py:73: in create_connection\n    sock.connect(sa)\nE   ConnectionRefusedError: [Errno 111] Connection refused\n\nThe above exception was the direct cause of the following exception:\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:790: in urlopen\n    response = self._make_request(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:496: in _make_request\n    conn.request(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connection.py:395: in request\n    self.endheaders()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/http/client.py:1331: in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/http/client.py:1091: in _send_output\n    self.send(msg)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/http/client.py:1035: in send\n    self.connect()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connection.py:243: in connect\n    self.sock = self._new_conn()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connection.py:218: in _new_conn\n    raise NewConnectionError(\nE   urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fe69d4a6e40>: Failed to establish a new connection: [Errno 111] Connection refused\n\nThe above exception was the direct cause of the following exception:\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/adapters.py:486: in send\n    resp = conn.urlopen(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:844: in urlopen\n    retries = retries.increment(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/urllib3/util/retry.py:515: in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\nE   urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='127.0.0.1', port=45761): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fe69d4a6e40>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\nDuring handling of the above exception, another exception occurred:\ntests/test_one_to_one_messages.py:79: in test_one_to_one_message_with_packet_loss\n    await self.test_one_to_one_message_baseline(recover_network_fn)\ntests/test_one_to_one_messages.py:31: in test_one_to_one_message_baseline\n    timestamp, message_id = self.send_with_timestamp(sending_node.send_message, receiving_node_pubkey, message)\nsrc/steps/common.py:79: in send_with_timestamp\n    response = send_method(id, message)\nsrc/node/status_node.py:167: in send_message\n    return self.api.send_rpc_request(\"wakuext_sendOneToOneMessage\", params)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:325: in iter\n    raise retry_exc.reraise()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:158: in reraise\n    raise self.last_attempt.result()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/node/rpc_client.py:24: in send_rpc_request\n    response = requests.post(self.base_url, headers={\"Content-Type\": \"application/json\"}, data=json.dumps(payload), timeout=timeout)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/api.py:115: in post\n    return request(\"post\", url, data=data, json=json, **kwargs)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/api.py:59: in request\n    return session.request(method=method, url=url, **kwargs)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/adapters.py:519: in send\n    raise ConnectionError(e, request=request)\nE   requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=45761): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fe69d4a6e40>: Failed to establish a new connection: [Errno 111] Connection refused'))","steps":[],"attachments":[{"uid":"3e38216412c584dd","name":"log","source":"3e38216412c584dd.txt","type":"text/plain","size":953115}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"save_node_logs_on_fail::0","time":{"start":1734137377222,"stop":1734137377223,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_open_nodes::0","time":{"start":1734137377223,"stop":1734137377239,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1734137377240,"stop":1734137377240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1734137377240,"stop":1734137377240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1734137377240,"stop":1734137377240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1734137523114,"stop":1734137523114,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"tag","value":"@pytest.mark.usefixtures('start_2_nodes')"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_one_to_one_messages"},{"name":"subSuite","value":"TestOneToOneMessages"},{"name":"host","value":"fv-az1120-575"},{"name":"thread","value":"60470-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_one_to_one_messages"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":2,"skipped":1,"passed":62,"unknown":0,"total":66},"items":[{"uid":"bda3db71ad04ece5","reportUrl":"https://status-im.github.io/status-cli-tests/303//#testresult/bda3db71ad04ece5","status":"passed","time":{"start":1734050783084,"stop":1734050814487,"duration":31403}},{"uid":"793ae0a6ea6126a","reportUrl":"https://status-im.github.io/status-cli-tests/302//#testresult/793ae0a6ea6126a","status":"passed","time":{"start":1733964390345,"stop":1733964418241,"duration":27896}},{"uid":"475345137b69e988","reportUrl":"https://status-im.github.io/status-cli-tests/301//#testresult/475345137b69e988","status":"passed","time":{"start":1733878534403,"stop":1733878581821,"duration":47418}},{"uid":"295771236013788","reportUrl":"https://status-im.github.io/status-cli-tests/300//#testresult/295771236013788","status":"passed","time":{"start":1733791348748,"stop":1733791377128,"duration":28380}},{"uid":"2d2594268e7c3c05","reportUrl":"https://status-im.github.io/status-cli-tests/299//#testresult/2d2594268e7c3c05","status":"passed","time":{"start":1733704917499,"stop":1733704945881,"duration":28382}},{"uid":"96f063a25c84aade","reportUrl":"https://status-im.github.io/status-cli-tests/298//#testresult/96f063a25c84aade","status":"passed","time":{"start":1733618856184,"stop":1733618884057,"duration":27873}},{"uid":"953c6cdf98ce8f98","reportUrl":"https://status-im.github.io/status-cli-tests/297//#testresult/953c6cdf98ce8f98","status":"passed","time":{"start":1733532515706,"stop":1733532544093,"duration":28387}},{"uid":"1b789052c1b0288f","reportUrl":"https://status-im.github.io/status-cli-tests/296//#testresult/1b789052c1b0288f","status":"passed","time":{"start":1733446491339,"stop":1733446519748,"duration":28409}},{"uid":"bd77e5d5daa7629","reportUrl":"https://status-im.github.io/status-cli-tests/295//#testresult/bd77e5d5daa7629","status":"passed","time":{"start":1733360100025,"stop":1733360127938,"duration":27913}},{"uid":"1f089bed86ab2b71","reportUrl":"https://status-im.github.io/status-cli-tests/294//#testresult/1f089bed86ab2b71","status":"passed","time":{"start":1733273736231,"stop":1733273765137,"duration":28906}},{"uid":"be44f00407c74059","reportUrl":"https://status-im.github.io/status-cli-tests/293//#testresult/be44f00407c74059","status":"passed","time":{"start":1733187115105,"stop":1733187142997,"duration":27892}},{"uid":"df892467d95311e0","reportUrl":"https://status-im.github.io/status-cli-tests/292//#testresult/df892467d95311e0","status":"passed","time":{"start":1733100647386,"stop":1733100675768,"duration":28382}},{"uid":"1469b640ab809394","reportUrl":"https://status-im.github.io/status-cli-tests/291//#testresult/1469b640ab809394","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=30639): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f12a466b5c0>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1733014562489,"stop":1733014592891,"duration":30402}},{"uid":"fa9c2bee067e51b","reportUrl":"https://status-im.github.io/status-cli-tests/290//#testresult/fa9c2bee067e51b","status":"passed","time":{"start":1732928017381,"stop":1732928061777,"duration":44396}},{"uid":"cd7b18d872a666da","reportUrl":"https://status-im.github.io/status-cli-tests/289//#testresult/cd7b18d872a666da","status":"passed","time":{"start":1732841572234,"stop":1732841600118,"duration":27884}},{"uid":"92c6a96fc105f885","reportUrl":"https://status-im.github.io/status-cli-tests/288//#testresult/92c6a96fc105f885","status":"passed","time":{"start":1732755219961,"stop":1732755247892,"duration":27931}},{"uid":"e631334fc976f9bc","reportUrl":"https://status-im.github.io/status-cli-tests/287//#testresult/e631334fc976f9bc","status":"passed","time":{"start":1732668719883,"stop":1732668764305,"duration":44422}},{"uid":"b07cabf97887f1ea","reportUrl":"https://status-im.github.io/status-cli-tests/286//#testresult/b07cabf97887f1ea","status":"passed","time":{"start":1732582251270,"stop":1732582279654,"duration":28384}},{"uid":"bb25a1d832649bf0","reportUrl":"https://status-im.github.io/status-cli-tests/285//#testresult/bb25a1d832649bf0","status":"passed","time":{"start":1732495628667,"stop":1732495659061,"duration":30394}},{"uid":"eba98f6d561aa4e2","reportUrl":"https://status-im.github.io/status-cli-tests/284//#testresult/eba98f6d561aa4e2","status":"passed","time":{"start":1732409157918,"stop":1732409185807,"duration":27889}}]},"tags":["@pytest.mark.usefixtures('start_2_nodes')","asyncio"]},"source":"f9830e66780ffe3c.json","parameterValues":[]}
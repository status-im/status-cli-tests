{"uid":"da24711342607da5","name":"test_leave_community_with_packet_loss","fullName":"tests.test_leave_community.TestLeaveCommunity#test_leave_community_with_packet_loss","historyId":"7605c8d6eaec387a64cae9ea4f104167","time":{"start":1724546996975,"stop":1724547051472,"duration":54497},"status":"broken","statusMessage":"requests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=16253): Read timed out. (read timeout=10)","statusTrace":"/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:536: in _make_request\n    response = conn.getresponse()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connection.py:461: in getresponse\n    httplib_response = super().getresponse()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/http/client.py:1428: in getresponse\n    response.begin()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/http/client.py:331: in begin\n    version, status, reason = self._read_status()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/http/client.py:292: in _read_status\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/socket.py:720: in readinto\n    return self._sock.recv_into(b)\nE   TimeoutError: timed out\n\nThe above exception was the direct cause of the following exception:\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/adapters.py:486: in send\n    resp = conn.urlopen(\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:844: in urlopen\n    retries = retries.increment(\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/util/retry.py:470: in increment\n    raise reraise(type(error), error, _stacktrace)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/util/util.py:39: in reraise\n    raise value\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:790: in urlopen\n    response = self._make_request(\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:538: in _make_request\n    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:370: in _raise_timeout\n    raise ReadTimeoutError(\nE   urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='127.0.0.1', port=16253): Read timed out. (read timeout=10)\n\nDuring handling of the above exception, another exception occurred:\ntests/test_leave_community.py:46: in test_leave_community_with_packet_loss\n    self.join_created_communities()\nsrc/steps/common.py:174: in join_created_communities\n    self.first_node.fetch_community(community_id)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:325: in iter\n    raise retry_exc.reraise()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:158: in reraise\n    raise self.last_attempt.result()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/node/status_node.py:170: in fetch_community\n    return self.api.send_rpc_request(\"wakuext_fetchCommunity\", params, timeout=10)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:325: in iter\n    raise retry_exc.reraise()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:158: in reraise\n    raise self.last_attempt.result()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/node/rpc_client.py:22: in send_rpc_request\n    response = requests.post(self.base_url, headers={\"Content-Type\": \"application/json\"}, data=json.dumps(payload), timeout=timeout)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/api.py:115: in post\n    return request(\"post\", url, data=data, json=json, **kwargs)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/api.py:59: in request\n    return session.request(method=method, url=url, **kwargs)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/adapters.py:532: in send\n    raise ReadTimeout(e, request=request)\nE   requests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=16253): Read timed out. (read timeout=10)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1724544684688,"stop":1724544684688,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_open_nodes","time":{"start":1724546989165,"stop":1724546989165,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_node_logs_on_fail","time":{"start":1724546989165,"stop":1724546989165,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"start_1_node","time":{"start":1724546989165,"stop":1724546996974,"duration":7809},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"requests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=16253): Read timed out. (read timeout=10)","statusTrace":"/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:536: in _make_request\n    response = conn.getresponse()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connection.py:461: in getresponse\n    httplib_response = super().getresponse()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/http/client.py:1428: in getresponse\n    response.begin()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/http/client.py:331: in begin\n    version, status, reason = self._read_status()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/http/client.py:292: in _read_status\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/socket.py:720: in readinto\n    return self._sock.recv_into(b)\nE   TimeoutError: timed out\n\nThe above exception was the direct cause of the following exception:\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/adapters.py:486: in send\n    resp = conn.urlopen(\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:844: in urlopen\n    retries = retries.increment(\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/util/retry.py:470: in increment\n    raise reraise(type(error), error, _stacktrace)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/util/util.py:39: in reraise\n    raise value\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:790: in urlopen\n    response = self._make_request(\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:538: in _make_request\n    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:370: in _raise_timeout\n    raise ReadTimeoutError(\nE   urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='127.0.0.1', port=16253): Read timed out. (read timeout=10)\n\nDuring handling of the above exception, another exception occurred:\ntests/test_leave_community.py:46: in test_leave_community_with_packet_loss\n    self.join_created_communities()\nsrc/steps/common.py:174: in join_created_communities\n    self.first_node.fetch_community(community_id)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:325: in iter\n    raise retry_exc.reraise()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:158: in reraise\n    raise self.last_attempt.result()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/node/status_node.py:170: in fetch_community\n    return self.api.send_rpc_request(\"wakuext_fetchCommunity\", params, timeout=10)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:325: in iter\n    raise retry_exc.reraise()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:158: in reraise\n    raise self.last_attempt.result()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/node/rpc_client.py:22: in send_rpc_request\n    response = requests.post(self.base_url, headers={\"Content-Type\": \"application/json\"}, data=json.dumps(payload), timeout=timeout)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/api.py:115: in post\n    return request(\"post\", url, data=data, json=json, **kwargs)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/api.py:59: in request\n    return session.request(method=method, url=url, **kwargs)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/requests/adapters.py:532: in send\n    raise ReadTimeout(e, request=request)\nE   requests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=16253): Read timed out. (read timeout=10)","steps":[],"attachments":[{"uid":"25f49d77a39c0dd6","name":"log","source":"25f49d77a39c0dd6.txt","type":"text/plain","size":169504}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"save_node_logs_on_fail::0","time":{"start":1724547051691,"stop":1724547051694,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_open_nodes::0","time":{"start":1724547051694,"stop":1724547051947,"duration":253},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1724547849042,"stop":1724547849042,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('start_1_node')"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_leave_community"},{"name":"subSuite","value":"TestLeaveCommunity"},{"name":"host","value":"fv-az1432-853"},{"name":"thread","value":"10205-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_leave_community"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":24,"broken":7,"skipped":0,"passed":15,"unknown":0,"total":46},"items":[{"uid":"fb5ffa058a5e105","reportUrl":"https://status-im.github.io/status-cli-tests/178//#testresult/fb5ffa058a5e105","status":"broken","statusDetails":"requests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=7426): Read timed out. (read timeout=10)","time":{"start":1724460655632,"stop":1724460710111,"duration":54479}},{"uid":"5a5d4f746dc60cb5","reportUrl":"https://status-im.github.io/status-cli-tests/177//#testresult/5a5d4f746dc60cb5","status":"passed","time":{"start":1724373877328,"stop":1724373925048,"duration":47720}},{"uid":"f8046a3d0e688b21","reportUrl":"https://status-im.github.io/status-cli-tests/176//#testresult/f8046a3d0e688b21","status":"passed","time":{"start":1724287381107,"stop":1724287428769,"duration":47662}},{"uid":"2f1166f026d6bcd9","reportUrl":"https://status-im.github.io/status-cli-tests/175//#testresult/2f1166f026d6bcd9","status":"passed","time":{"start":1724257431050,"stop":1724257484042,"duration":52992}},{"uid":"cd5f33b19dec8704","reportUrl":"https://status-im.github.io/status-cli-tests/174//#testresult/cd5f33b19dec8704","status":"passed","time":{"start":1724242683695,"stop":1724242731382,"duration":47687}},{"uid":"90b8c6c8324a65e5","reportUrl":"https://status-im.github.io/status-cli-tests/173//#testresult/90b8c6c8324a65e5","status":"passed","time":{"start":1724237174970,"stop":1724237222676,"duration":47706}},{"uid":"25bdba20dc563ba5","reportUrl":"https://status-im.github.io/status-cli-tests/172//#testresult/25bdba20dc563ba5","status":"failed","statusDetails":"AssertionError: 1 community joins out of 10: Leave Timestamp: 00:44:08, Community ID: 0x03b35a6ea06115c3d362f232062545e530d7d41dc80392bb7bf5e87b3eb1be0f68, Error: Comunity doesn't have the initial number of members after join and leave, so leave probably failed\nassert 19 == 1\n +  where 19 = len({'0x040e2759e05ceee3542780ab42f4008052b149990320813c1f7175d95ae1aee12b01b7df67245fb345fcd711648558d9c54011fb0afea619fc4a9cb5ee15b29c8b': {'last_update_clock': 1724161842}, '0x041fcbc4449ced2f4205597d1fb0f4506b44e0659f98cc56ea4e3b5b1d4cb026401c3ea5f7695f2f18fa5b9f76e150a11ec1429f02c59f2959da04244dfc7cd317': {'last_update_clock': 1724161657}, '0x042ba411422281182b3e52c2314e9895c1a0920b2119074e3e1ce57ff4ad15835855d6f4de777e10bd7b4cfe33497e2e1d9f951164330cc82c65561ad8fa44ff64': {'last_update_clock': 1724200846}, '0x042d180a162e6ecac0ce9ea7e0c2814777312cfe77b6ea588166b1a038fa5cc6382a31879f1e5ae8c789029d984be5c97ac7124a7ffe8a585cd636921e36f969b4': {'last_update_clock': 1724161979}, ...})","time":{"start":1724201000444,"stop":1724201048148,"duration":47704}},{"uid":"e10891364e6fdd4f","reportUrl":"https://status-im.github.io/status-cli-tests/171//#testresult/e10891364e6fdd4f","status":"passed","time":{"start":1724162010101,"stop":1724162058781,"duration":48680}},{"uid":"8d9349d5f37ee141","reportUrl":"https://status-im.github.io/status-cli-tests/170//#testresult/8d9349d5f37ee141","status":"failed","statusDetails":"AssertionError","time":{"start":1724157552262,"stop":1724157587297,"duration":35035}},{"uid":"fd79b35469ee9d6c","reportUrl":"https://status-im.github.io/status-cli-tests/168//#testresult/fd79b35469ee9d6c","status":"failed","statusDetails":"AssertionError","time":{"start":1724114265520,"stop":1724114300143,"duration":34623}},{"uid":"cdff2da5c3a5cbcf","reportUrl":"https://status-im.github.io/status-cli-tests/167//#testresult/cdff2da5c3a5cbcf","status":"failed","statusDetails":"AssertionError","time":{"start":1724027882344,"stop":1724027916971,"duration":34627}},{"uid":"3c9f62575f649e4c","reportUrl":"https://status-im.github.io/status-cli-tests/166//#testresult/3c9f62575f649e4c","status":"failed","statusDetails":"AssertionError","time":{"start":1723941559966,"stop":1723941594535,"duration":34569}},{"uid":"8d06e7d9290a542c","reportUrl":"https://status-im.github.io/status-cli-tests/165//#testresult/8d06e7d9290a542c","status":"failed","statusDetails":"AssertionError","time":{"start":1723855078149,"stop":1723855112920,"duration":34771}},{"uid":"ad0e856690018396","reportUrl":"https://status-im.github.io/status-cli-tests/164//#testresult/ad0e856690018396","status":"failed","statusDetails":"AssertionError","time":{"start":1723768730430,"stop":1723768775198,"duration":44768}},{"uid":"c7db2e4a27cb9cbe","reportUrl":"https://status-im.github.io/status-cli-tests/163//#testresult/c7db2e4a27cb9cbe","status":"failed","statusDetails":"AssertionError","time":{"start":1723682272327,"stop":1723682307271,"duration":34944}},{"uid":"900de68258b4dc54","reportUrl":"https://status-im.github.io/status-cli-tests/162//#testresult/900de68258b4dc54","status":"failed","statusDetails":"AssertionError","time":{"start":1723595851750,"stop":1723595887285,"duration":35535}},{"uid":"440c93c1168e0379","reportUrl":"https://status-im.github.io/status-cli-tests/161//#testresult/440c93c1168e0379","status":"failed","statusDetails":"AssertionError","time":{"start":1723509521721,"stop":1723509556330,"duration":34609}},{"uid":"f613a67e40a6d8e9","reportUrl":"https://status-im.github.io/status-cli-tests/160//#testresult/f613a67e40a6d8e9","status":"failed","statusDetails":"AssertionError","time":{"start":1723423011711,"stop":1723423046287,"duration":34576}},{"uid":"f36c1ec40af36b9b","reportUrl":"https://status-im.github.io/status-cli-tests/159//#testresult/f36c1ec40af36b9b","status":"failed","statusDetails":"AssertionError","time":{"start":1723336841348,"stop":1723336879436,"duration":38088}},{"uid":"82a2328a20e60732","reportUrl":"https://status-im.github.io/status-cli-tests/158//#testresult/82a2328a20e60732","status":"failed","statusDetails":"AssertionError","time":{"start":1723250317050,"stop":1723250351865,"duration":34815}}]},"tags":["@pytest.mark.usefixtures('start_1_node')"]},"source":"da24711342607da5.json","parameterValues":[]}